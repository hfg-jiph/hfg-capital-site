<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>HFG CAPITAL | Patrimonium Custodire, Augere et Tradere</title>
  <meta name="description" content="HFG CAPITAL - Family Office" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
  <link rel="shortcut icon" href="favicon/favicon.ico">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">

  <style>
    /* --- VARIABLES & RESET --- */
    :root {
      --primary-dark: #1a1a1a;
      --gold-accent: #D4AF37;
      --text-light: #ffffff;
      --overlay-color: rgba(0, 0, 0, 0.4);
      --font-serif: 'Cormorant Garamond', serif;
      --font-sans: 'Montserrat', sans-serif;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: var(--font-sans);
      height: 100vh;
      overflow: hidden; /* Empêche le scroll global, on veut un écran fixe immersif */
      background-color: #000;
    }

    /* --- BACKGROUND PARALLAX --- */
    .bg-container {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      z-index: -1;
    }

    .bg-image {
      width: 100%; height: 100%;
      object-fit: cover;
      transition: transform 0.2s ease-out, opacity 1s ease;
      animation: zoomIn 20s infinite alternate;
    }

    @keyframes zoomIn {
      from { transform: scale(1); }
      to { transform: scale(1.1); }
    }

    /* --- HEADER (Transparene) --- */
    header {
      position: absolute;
      top: 0; left: 0; width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 40px;
      z-index: 10;
    }

    /* --- LANGUAGE SELECTOR --- */
    .lang-container { position: relative; }

    .lang-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(5px);
      padding: 8px 15px;
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,0.2);
      color: white;
      cursor: pointer;
      font-size: 0.85rem;
      transition: all 0.3s;
    }

    .lang-btn:hover { background: rgba(255, 255, 255, 0.2); }
    
    .lang-btn img { width: 20px; border-radius: 2px; }

    .lang-menu {
      position: absolute;
      top: 45px; left: 0;
      background: rgba(20, 20, 20, 0.95);
      border: 1px solid var(--gold-accent);
      border-radius: 8px;
      padding: 10px 0;
      display: none;
      flex-direction: column;
      min-width: 140px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }

    .lang-menu.show { display: flex; animation: fadeIn 0.3s; }

    .lang-option {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 15px;
      color: #ccc;
      cursor: pointer;
      font-size: 0.8rem;
      transition: 0.2s;
    }

    .lang-option:hover { background: rgba(212, 175, 55, 0.2); color: white; }
    .lang-option img { width: 20px; }

    /* --- LOGIN BUTTON (Header) --- */
    .login-trigger {
      background: transparent;
      color: white;
      border: 1px solid var(--gold-accent);
      padding: 10px 25px;
      font-family: var(--font-sans);
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 1px;
      cursor: pointer;
      transition: all 0.4s ease;
    }

    .login-trigger:hover {
      background: var(--gold-accent);
      color: var(--primary-dark);
      box-shadow: 0 0 15px rgba(212, 175, 55, 0.4);
    }

    /* --- MAIN CONTENT (Center) --- */
    main {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      width: 100%;
      padding: 0 20px;
      color: white;
      text-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }

    .logo-main {
      max-width: 250px; /* Ajuster selon votre logo */
      height: auto;
      margin-bottom: 20px;
      filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3));
    }
    
    /* Si pas de logo image, on utilise du texte stylisé */
    .logo-text {
        font-family: var(--font-serif);
        font-size: 4rem;
        letter-spacing: 5px;
        margin-bottom: 10px;
    }

    .motto {
      font-family: var(--font-serif);
      font-style: italic;
      font-size: 1.8rem;
      color: #f0f0f0;
      margin-top: 10px;
      font-weight: 300;
    }

    /* --- FOOTER --- */
    footer {
      position: absolute;
      bottom: 20px;
      width: 100%;
      text-align: center;
      color: rgba(255,255,255,0.6);
      font-size: 0.7rem;
      letter-spacing: 1px;
    }

    /* --- MODAL (Login) --- */
    .modal-overlay {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(8px);
      z-index: 1000;
      display: none;
      justify-content: center;
      align-items: center;
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .modal-overlay.active { display: flex; opacity: 1; }

    .modal-box {
      background: #fff;
      width: 90%; max-width: 400px;
      padding: 40px;
      border-radius: 4px;
      text-align: center;
      position: relative;
      box-shadow: 0 20px 50px rgba(0,0,0,0.5);
      transform: translateY(20px);
      transition: transform 0.4s ease;
    }

    .modal-overlay.active .modal-box { transform: translateY(0); }

    .close-modal {
      position: absolute;
      top: 15px; right: 20px;
      font-size: 24px;
      cursor: pointer;
      color: #999;
    }

    .modal-title {
      font-family: var(--font-serif);
      font-size: 1.8rem;
      color: var(--primary-dark);
      margin-bottom: 30px;
    }

    .input-group { margin-bottom: 20px; text-align: left; }
    
    .input-group input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 0;
      font-family: var(--font-sans);
      font-size: 0.9rem;
      outline: none;
      transition: border 0.3s;
    }

    .input-group input:focus { border-color: var(--gold-accent); }

    .btn-submit {
      width: 100%;
      padding: 12px;
      background: var(--primary-dark);
      color: white;
      border: none;
      font-family: var(--font-sans);
      text-transform: uppercase;
      font-weight: 600;
      letter-spacing: 1px;
      cursor: pointer;
      transition: 0.3s;
      position: relative;
      overflow: hidden;
    }

    .btn-submit:hover { background: #333; }

    .btn-submit:disabled { opacity: 0.7; cursor: not-allowed; }

    /* Loading Animation inside button */
    .loader {
      height: 2px;
      width: 0%;
      background: var(--gold-accent);
      position: absolute;
      bottom: 0; left: 0;
      transition: width 1.5s linear;
    }

    .error-msg {
      color: #b30000;
      font-size: 0.8rem;
      margin-top: 15px;
      display: none;
      line-height: 1.4;
    }

    /* --- RESPONSIVE --- */
    @media (max-width: 600px) {
      header { padding: 15px 20px; }
      .motto { font-size: 1.4rem; }
      .logo-main { max-width: 180px; }
      .modal-box { padding: 30px 20px; }
    }
    
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>
<body>

  <div class="bg-container">
    <img src="" id="bgImage" class="bg-image" alt="Landscape">
  </div>

  <header>
    <div class="lang-container" id="langContainer">
      <div class="lang-btn" onclick="toggleLangMenu()">
        <img id="currentFlag" src="https://flagcdn.com/fr.svg" alt="FR">
        <span id="currentLangLabel">FR</span>
        <small>▼</small>
      </div>
      <div class="lang-menu" id="langMenu"></div>
    </div>

    <button class="login-trigger" id="openLoginBtn" onclick="openModal()">
      Se Connecter
    </button>
  </header>

  <main>
    <img src="logo.jpeg" alt="HFG CAPITAL" class="logo-main" onerror="this.style.display='none'; document.querySelector('.logo-text').style.display='block'">
    <h1 class="logo-text" style="display:none; color:white;">HFG CAPITAL</h1>
    
    <h2 class="motto">"Patrimonium Custodire, Augere et Tradere"</h2>
  </main>

  <footer>
    © 2025 HFG CAPITAL | Paris | Private Investment
  </footer>

  <div class="modal-overlay" id="modalOverlay">
    <div class="modal-box">
      <span class="close-modal" onclick="closeModal()">&times;</span>
      <h3 class="modal-title" id="modalTitle">Espace Privé</h3>
      
      <form id="loginForm">
        <div class="input-group">
          <input type="text" id="userId" maxlength="6" pattern="\d{6}" placeholder="Identifiant (6 chiffres)" required autocomplete="off">
        </div>
        <div class="input-group">
          <input type="password" id="password" maxlength="50" placeholder="Mot de passe" required>
        </div>
        
        <button type="submit" class="btn-submit" id="submitBtn">
          <span id="btnText">Valider</span>
          <div class="loader" id="btnLoader"></div>
        </button>

        <div class="error-msg" id="errorMsg">
          La combinaison saisie n’a pas permis votre identification.
        </div>
      </form>
    </div>
  </div>

  <script>
    // --- CONFIGURATION & DONNÉES ---
    const languages = {
      fr: { flag: "https://flagcdn.com/fr.svg", label: "FR", full: "Français", title: "Espace Privé", btnOpen: "Se connecter", placeholders: ["Identifiant (6 chiffres)", "Mot de passe"], btnSubmit: "Valider", error: "La combinaison saisie n’a pas permis votre identification. Contactez votre gestionnaire." },
      en: { flag: "https://flagcdn.com/gb.svg", label: "EN", full: "English", title: "Private Area", btnOpen: "Client Login", placeholders: ["ID (6 digits)", "Password"], btnSubmit: "Submit", error: "Invalid credentials. Please contact your manager." },
      cn: { flag: "https://flagcdn.com/cn.svg", label: "CN", full: "中文", title: "私人专区", btnOpen: "登录", placeholders: ["ID (6位数字)", "密码"], btnSubmit: "提交", error: "凭据无效。请联系您的经理。" },
      es: { flag: "https://flagcdn.com/es.svg", label: "ES", full: "Español", title: "Área Privada", btnOpen: "Acceso Cliente", placeholders: ["ID (6 dígitos)", "Contraseña"], btnSubmit: "Validar", error: "Credenciales inválidas. Contacte a su gestor." },
      de: { flag: "https://flagcdn.com/de.svg", label: "DE", full: "Deutsch", title: "Privatbereich", btnOpen: "Anmelden", placeholders: ["ID (6 Ziffern)", "Passwort"], btnSubmit: "Bestätigen", error: "Ungültige Zugangsdaten. Bitte kontaktieren Sie Ihren Manager." },
      it: { flag: "https://flagcdn.com/it.svg", label: "IT", full: "Italiano", title: "Area Riservata", btnOpen: "Accedi", placeholders: ["ID (6 cifre)", "Password"], btnSubmit: "Conferma", error: "Credenziali non valide. Contattare il gestore." },
      ru: { flag: "https://flagcdn.com/ru.svg", label: "RU", full: "Русский", title: "Личный кабинет", btnOpen: "Войти", placeholders: ["ID (6 цифр)", "Пароль"], btnSubmit: "Войти", error: "Неверные данные. Свяжитесь с менеджером." },
      jp: { flag: "https://flagcdn.com/jp.svg", label: "JP", full: "日本語", title: "プライベートエリア", btnOpen: "ログイン", placeholders: ["ID (6桁)", "パスワード"], btnSubmit: "送信", error: "認証情報が無効です。担当者にご連絡ください。" },
      vn: { flag: "https://flagcdn.com/vn.svg", label: "VN", full: "Tiếng Việt", title: "Khu vực riêng", btnOpen: "Đăng nhập", placeholders: ["ID (6 chữ số)", "Mật khẩu"], btnSubmit: "Gửi", error: "Thông tin không hợp lệ. Vui lòng liên hệ quản lý." }
    };

    let activeLang = "fr";

    // --- IMAGES DE FOND (Paysages) ---
    // J'ai mis des liens Unsplash pour la démo, mais remplacez par vos chemins locaux "background/bg1.jpg"
    const bgImages = [
      "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1920&q=80", // Montagne / Lac
      "https://images.unsplash.com/photo-1472214103451-9374bd1c798e?auto=format&fit=crop&w=1920&q=80", // Vallée verte
      "https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=1920&q=80", // Mer / Lac calme
      "https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?auto=format&fit=crop&w=1920&q=80"  // Forêt sombre
    ];

    // --- DOM ELEMENTS ---
    const modal = document.getElementById('modalOverlay');
    const langMenu = document.getElementById('langMenu');
    const bgElement = document.getElementById('bgImage');
    const form = document.getElementById('loginForm');
    const errorMsg = document.getElementById('errorMsg');
    const btnSubmit = document.getElementById('submitBtn');
    const btnLoader = document.getElementById('btnLoader');

    // --- INITIALISATION ---
    window.addEventListener('load', () => {
      // 1. Set Random Background
      const randomBg = bgImages[Math.floor(Math.random() * bgImages.length)];
      bgElement.src = randomBg;
      
      // 2. Generate Language Menu
      generateLangMenu();
      
      // 3. Start Scrolling Title
      scrollTitle();
    });

    // --- LOGIQUE DE MODAL ---
    function openModal() {
      modal.classList.add('active');
      document.getElementById('userId').focus();
    }

    function closeModal() {
      modal.classList.remove('active');
      errorMsg.style.display = 'none';
    }

    // Fermer si clic dehors
    modal.addEventListener('click', (e) => {
      if (e.target === modal) closeModal();
    });

    // --- LOGIQUE DE LANGUE ---
    function generateLangMenu() {
      for (const code in languages) {
        const opt = document.createElement('div');
        opt.className = 'lang-option';
        opt.innerHTML = `<img src="${languages[code].flag}"> ${languages[code].full}`;
        opt.onclick = () => setLanguage(code);
        langMenu.appendChild(opt);
      }
    }

    function toggleLangMenu() {
      langMenu.classList.toggle('show');
    }

    function setLanguage(lang) {
      activeLang = lang;
      const data = languages[lang];

      // Update Header
      document.getElementById('currentFlag').src = data.flag;
      document.getElementById('currentLangLabel').innerText = data.label;
      document.getElementById('openLoginBtn').innerText = data.btnOpen;

      // Update Modal
      document.getElementById('modalTitle').innerText = data.title;
      document.getElementById('userId').placeholder = data.placeholders[0];
      document.getElementById('password').placeholder = data.placeholders[1];
      document.getElementById('btnText').innerText = data.btnSubmit;
      errorMsg.innerText = data.error;

      langMenu.classList.remove('show');
    }

    // Fermer menu langue si clic ailleurs
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.lang-container')) {
        langMenu.classList.remove('show');
      }
    });

    // --- LOGIQUE DE CONNEXION (SHA-256) ---
    async function hashPassword(str) {
      const encoder = new TextEncoder();
      const data = encoder.encode(str);
      const hashBuffer = await crypto.subtle.digest("SHA-256", data);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const userId = document.getElementById('userId').value;
      const password = document.getElementById('password').value.trim();
      
      // UI Loading State
      btnSubmit.disabled = true;
      btnLoader.style.width = "100%"; // Start animation
      errorMsg.style.display = 'none';

      // Simulate network delay logic (1.5s)
      setTimeout(async () => {
        const hash = await hashPassword(password);
        const validHash = "e551ea5c1371065311a5f10e88093119013158fa957d4bfe588a39c74f801182";

        if (userId === "820630" && hash === validHash) {
          window.location.href = "https://0dataviz-tuqbdbgtvwg5my5krhhsma.streamlit.app/";
        } else {
          // Reset UI on Error
          btnSubmit.disabled = false;
          btnLoader.style.width = "0%";
          errorMsg.style.display = 'block';
          // Shake effect logic could go here
        }
      }, 1500);
    });

    // --- TITRE DÉFILANT ---
    const baseTitle = "HFG CAPITAL | ";
    const scrollText = "Patrimonium Custodire, Augere et Tradere    ";
    let pos = 0;
    function scrollTitle() {
      document.title = baseTitle + scrollText.substring(pos) + scrollText.substring(0, pos);
      pos++;
      if (pos > scrollText.length) pos = 0;
      setTimeout(scrollTitle, 300);
    }

  </script>
</body>
</html>
